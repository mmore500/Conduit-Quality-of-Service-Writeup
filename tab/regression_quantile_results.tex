\newcommand\rotcol[1]{ \multicolumn{1}{@{}@{}}{} \adjustbox{angle=60,lap=\width}{\rule{0.45\textwidth}{0.8pt}} \hfill \makebox[3ex]{\adjustbox{angle=60,lap=\width}{\bfseries \hspace{1ex} #1}} \hfill }

% adapted from https://tex.stackexchange.com/a/63592
% and https://tex.stackexchange.com/a/196773
% and https://tex.stackexchange.com/a/422586
% and https://tex.stackexchange.com/a/602970
% and https://tex.stackexchange.com/q/420133
% and https://tex.stackexchange.com/a/62443
% and https://tex.stackexchange.com/a/32690

\clearpage
\onecolumn

\begin{landscape}

\csvstyle{myTableStyle}{
  longtable=@{\hspace{-.5\arrayrulewidth}}c@{\hspace{-.5\arrayrulewidth}}|l|l|l|l|l|l|l|l|l|l|l|l|l|,
  table head=\caption{
      TODO.
    }\label{tab:TODO} \\
    \toprule%
    \multicolumn{1}{@{\hspace{-.5\arrayrulewidth}}l@{\hspace{-.5\arrayrulewidth}}}{} &%
    \rotcol{ Metric } &%
    \rotcol{ Significant Effect Sign } &%
    \rotcol{ Cpus Per Node } &%
    \rotcol{ Num Simels Per Cpu} &%
    \rotcol{ Num Processes} &%
    \rotcol{ Absolute Effect Size} &%
    \rotcol{ Absolute Effect Size 95\% CI Lower Bound} &%
    \rotcol{ Absolute Effect Size 95\% CI Upper Bound} &%
    \rotcol{ Relative Effect Size} &%
    \rotcol{ Relative Effect Size 95\% CI Lower Bound} &%
    \rotcol{ Relative Effect Size 95\% CI Upper Bound} &%
    \rotcol{$\mathbf{n}$} & %
    \rotcol{$\mathbf{p}$} %
    \vspace{-1ex} \\ \midrule\endhead
    \bottomrule\endfoot,
  late after line=\\\hline,
  late after last line=\\\bottomrule,
  head to column names,
  filter=\equal{\csuse{DependentVariable}}{Latency Simsteps Outlet},
  % filter=\equal{\csuse{DependentVariableSlug}}{delivery-failure-rate},
}

% \string~ adapted from https://tex.stackexchange.com/a/425957
\csvreader[myTableStyle]
{dat/a=weak_scaling_regression_results+async_mode=3+comp_work=0+impl=proc+nproc=16_64_256+nthread=1+proc=0-255+readability=latexcsvreader+replicate=0-9+slurm_nnodes=64_256+slurm_ntasks=256+subject=inlet\string~outlet+view=summary+ext=.csv}{}%
{ %
  &%
  \csuse{DependentVariable} &%
  \ifthenelse{\equal{\csuse{SignificantEffectSign}}{-}}{\cellcolor{red!25}}{}%
  \ifthenelse{\equal{\csuse{SignificantEffectSign}}{+}}{\cellcolor{green!25}}{}%
  \ifthenelse{\equal{\csuse{SignificantEffectSign}}{0}}{\cellcolor{gray!25}}{}%
  \csuse{SignificantEffectSign} &%
  \csuse{CpusPerNode} &%
  \csuse{NumSimelsPerCpu} &%
  \csuse{NumProcessesPrettyprint} &%
  \csuse{AbsoluteEffectSize} &%
  \csuse{AbsoluteEffectSize95CILowerBound} &%
  \csuse{AbsoluteEffectSize95CIUpperBound} &%
  \csuse{RelativeEffectSize} &%
  \csuse{RelativeEffectSize95CILowerBound} &%
  \csuse{RelativeEffectSize95CIUpperBound} &%
  \csuse{n} &%
  \csuse{p} %
}

\end{landscape}

\clearpage
\twocolumn
